---
import BackgroundImage from "../../../../public/pages/contact-us/faq/bg-mobile-they-said.webp";
import TheySaidImage from "../../../../public/pages/contact-us/faq/what-they-said.webp";
import CardImage5 from "../../../../public/pages/contact-us/faq/5.png";
import CardImage6 from "../../../../public/pages/contact-us/faq/6.png";
import CardImage7 from "../../../../public/pages/contact-us/faq/7.png";
import MaskotChina from "../../../../public/pages/contact-us/faq/maskot-china.webp";
import WhiteTiger from "../../../../public/pages/contact-us/faq/white-Tiger.webp";
---

<>
  <section
    class="bg-cover bg-top block md:hidden"
    style={`background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${BackgroundImage.src})`}
  >
    <div class="flex flex-col gap-9">
      <div class="flex justify-center">
        <img src={TheySaidImage.src} alt="" class="w-2/3" />
      </div>

      <div class="w-full overflow-x-auto scrollbar-hide">
        <div class="flex gap-4 pb-4 min-w-max px-4 justify-center items-center">
          <div class="flex-shrink-0 w-[280px] md:w-[320px]">
            <img
              src={CardImage5.src}
              alt="card9"
              class="w-full h-auto rounded-lg shadow-lg"
            />
          </div>
          <div class="flex-shrink-0 w-[280px] md:w-[320px]">
            <img
              src={CardImage6.src}
              alt="card8"
              class="w-full h-auto rounded-lg shadow-lg"
            />
          </div>
          <div class="flex-shrink-0 w-[280px] md:w-[320px]">
            <img
              src={CardImage7.src}
              alt="card10"
              class="w-full h-auto rounded-lg shadow-lg"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <section
    class="bg-cover bg-top h-auto min-h-screen hidden md:block relative overflow-hidden"
    style={`background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${BackgroundImage.src})`}
  >
    <div class="-bottom-[32%] absolute">
      <img src={MaskotChina.src} alt="" class="w-1/4" />
    </div>
    <div class="">
      <img
        src={WhiteTiger.src}
        alt=""
        class="w-1/6 right-[1%] -bottom-[9%] absolute"
      />
    </div>
    <div class="flex flex-col gap-9">
      <div class="flex justify-center">
        <img src={TheySaidImage.src} alt="" class="w-1/4" />
      </div>

      <div class="relative px-20">
        <!-- Prev Button -->
        <button
          id="prevBtn"
          class="absolute left-[10%] top-1/2 -translate-y-1/2 z-10 bg-[#FFBC2D] hover:bg-[#FFBC2D] rounded-full w-8 h-8 flex items-center justify-center shadow-lg transition-all"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>

        <!-- Carousel Container -->
        <div class="w-full overflow-hidden">
          <div
            id="carousel"
            class="flex gap-4 pb-4 px-4 justify-center items-center transition-transform duration-500 ease-in-out"
          >
            <div class="flex-shrink-0 w-[20%]">
              <img
                src={CardImage5.src}
                alt="card9"
                class="w-full h-auto rounded-lg shadow-lg"
              />
            </div>
            <div class="flex-shrink-0 w-[20%]">
              <img
                src={CardImage6.src}
                alt="card8"
                class="w-full h-auto rounded-lg shadow-lg"
              />
            </div>
            <div class="flex-shrink-0 w-[20%]">
              <img
                src={CardImage7.src}
                alt="card10"
                class="w-full h-auto rounded-lg shadow-lg"
              />
            </div>
          </div>
        </div>

        <!-- Next Button -->
        <button
          id="nextBtn"
          class="absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-[#FFBC2D] hover:bg-[#FFBC2D] rounded-full w-8 h-8 flex items-center justify-center shadow-lg transition-all"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"></path>
          </svg>
        </button>
      </div>
    </div>
  </section>

  <script>
    const carousel = document.getElementById("carousel");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    let currentIndex = 0;
    const cards = carousel?.querySelectorAll(".flex-shrink-0") || [];
    const totalCards = cards.length;

    function updateCarousel() {
      if (carousel && cards.length > 0) {
        const cardWidth = (cards[0] as HTMLElement).offsetWidth;
        const gap = 16; // 1rem = 16px (gap-4)
        const offset = currentIndex * -(cardWidth + gap);
        carousel.style.transform = `translateX(${offset}px)`;
      }
    }

    prevBtn?.addEventListener("click", () => {
      if (currentIndex > 0) {
        currentIndex--;
        updateCarousel();
      }
    });

    nextBtn?.addEventListener("click", () => {
      if (currentIndex < totalCards - 1) {
        currentIndex++;
        updateCarousel();
      }
    });
  </script>
</>
